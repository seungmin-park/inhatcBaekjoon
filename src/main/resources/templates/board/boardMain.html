<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header" />
<body>
<div class="container">
    <div th:replace="fragments/bodyHeader :: bodyHeader" />
    <div>
        <div style="display: flex; justify-content: space-between">
            <a href="/board/writing">글쓰기</a>
            <select name="category" id="category">
                <option value="" selected>--선택--</option>
                <option value="ALL">전체</option>
                <option value="STUDY">스터디</option>
                <option value="TEAM_PROJECT">팀 프로젝트</option>
                <option value="HACKATHON">해커톤</option>
                <option value="CONTEST">공모전</option>
            </select>
        </div>
        <table class="table table-striped">
            <thead>
            <tr>
                <th>번호</th>
                <th>제목</th>
                <th>종류</th>
                <th>작성일</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="board : ${boards}">
                <td th:text="${board.id}"></td>
                <td>
                    <a th:href="|/board/${board.id}|" th:text="${board.title}"></a>
                </td>
                <td th:text="${board.category}"></td>
                <td th:text="${board.createdDate}"></td>
            </tr>
            </tbody>
        </table>
    </div>
    <div th:replace="fragments/footer :: footer" />
</div> <!-- /container -->
</body>
<script th:inline="javascript">
    const category = document.getElementById("category");
    console.log(category.options[category.selectedIndex].value);
    category.addEventListener('change',(event) =>{
        var value = category.options[category.selectedIndex].value;
        location.href = "/board?category=" + value;
    })
</script>
</html>